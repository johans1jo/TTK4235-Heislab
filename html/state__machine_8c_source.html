<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Elevator by Jo og Siri: source/state_machine.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elevator by Jo og Siri
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">den beste heisen ever laget</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">state_machine.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;elev.h&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="controller_8h.html">controller.h</a>&quot;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timer_8h.html">timer.h</a>&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="state__machine_8h.html#a05848de25ac2dbec233935058a1d24b4">    5</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="state__machine_8h.html#a05848de25ac2dbec233935058a1d24b4">init</a>(){</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="keywordflow">if</span>(0 &lt;= elev_get_floor_sensor_signal()){</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    }</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elev_get_floor_sensor_signal() == -1){</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        elev_set_motor_direction(DIRN_DOWN);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        <span class="keywordflow">while</span> (elev_get_floor_sensor_signal() == -1){};</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        elev_set_motor_direction(DIRN_STOP);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="state__machine_8h.html#a58e8be2db2660128e4e6456a9c981fb5">   17</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="state__machine_8h.html#a58e8be2db2660128e4e6456a9c981fb5">run</a>(){</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    states_t elev_state = INIT;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    elev_motor_direction_t priority_dir = DIRN_STOP;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    elev_motor_direction_t elev_dir = DIRN_STOP;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keywordtype">int</span> dir_switch = 0;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordtype">int</span> e_stopped = 0;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordtype">int</span> current_floor = 1;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordtype">int</span> what_to_do;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">while</span> (1){</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <a class="code" href="controller_8h.html#a091e5d1e93a7b6c1569ff194fdbcbacc">update_orders</a>();</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        update_elev_postition();</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="controller_8h.html#af4edcb71807d2f702bc77ea03fbee08e">update_lamps</a>();</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        </div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <a class="code" href="controller_8h.html#ac7927046af7ea1e51c178ede55d39631">e_stop</a>(&amp;e_stopped, &amp;elev_dir, &amp;priority_dir, &amp;elev_state);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">if</span> (elev_get_floor_sensor_signal() != -1){</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            current_floor = elev_get_floor_sensor_signal();</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">switch</span> (elev_state){</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <span class="keywordflow">case</span> INIT       :</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <a class="code" href="state__machine_8h.html#a05848de25ac2dbec233935058a1d24b4">init</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            elev_state = IDLE;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="keywordflow">case</span> IDLE       :</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            what_to_do = <a class="code" href="controller_8h.html#aeb8f6df3064d502784865b6b8cb8eb6a">order_at_current_floor</a>(elev_dir, e_stopped, current_floor, &amp;dir_switch);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">if</span> (what_to_do == 1){</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                elev_state = DOOR_OPEN;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                elev_set_door_open_lamp(1);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                <a class="code" href="timer_8h.html#aa9854f34aab8315190c2d5945e54b058">start_timer</a>();</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(what_to_do == 2 || what_to_do == 3){</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                printf(<span class="stringliteral">&quot;Restoring from emergency, going UP\n&quot;</span>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                elev_dir = DIRN_UP;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                elev_state = RUNNING;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(what_to_do == -2 || what_to_do == -3){</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                printf(<span class="stringliteral">&quot;Restoring from emergency, going DOWN\n&quot;</span>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                elev_dir = DIRN_DOWN;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                elev_state = RUNNING;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="controller_8h.html#abfa99631cbe31c4ae9bedeee58dae711">orders_above</a>(&amp;priority_dir, current_floor) == 1){</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                printf(<span class="stringliteral">&quot;Order above, going up!!\n&quot;</span>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                elev_dir = DIRN_UP;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                elev_state = RUNNING;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="controller_8h.html#a5735d97c09a80893f79ce6ce0fda1619">orders_bellow</a>(&amp;priority_dir, current_floor) == 1){</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                printf(<span class="stringliteral">&quot;Order bellow, going down!!\n&quot;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                elev_dir = DIRN_DOWN;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                elev_state = RUNNING;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            }            </div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">case</span> RUNNING    :</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="controller_8h.html#aacef2da44622fa8145be41c68a828909">order_at_floor</a>(&amp;priority_dir, elev_dir) == 1){</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                elev_dir = DIRN_STOP;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                elev_state = DOOR_OPEN;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                elev_set_door_open_lamp(1);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <a class="code" href="timer_8h.html#aa9854f34aab8315190c2d5945e54b058">start_timer</a>();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">case</span> DOOR_OPEN  :</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <a class="code" href="controller_8h.html#a1bf77763c29c4980d5f065904b985802">delete_order_at_floor</a>(current_floor);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            dir_switch = 0;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            e_stopped = 0;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="timer_8h.html#a68a43cbe2b22f37171a4eac866c382f3">time_out</a>() == 1){</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                elev_set_door_open_lamp(0);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="controller_8h.html#a5735d97c09a80893f79ce6ce0fda1619">orders_bellow</a>(&amp;priority_dir, current_floor) == 1){</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    elev_dir = DIRN_DOWN;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    printf(<span class="stringliteral">&quot;DIRN_DOWN -- BELLOW -1\n&quot;</span>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    elev_state = RUNNING;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="controller_8h.html#abfa99631cbe31c4ae9bedeee58dae711">orders_above</a>(&amp;priority_dir, current_floor) == 1){</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    elev_dir = DIRN_UP;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    elev_set_motor_direction(elev_dir);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    printf(<span class="stringliteral">&quot;DIRN_UP -- ABOVE 1\n&quot;</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    elev_state = RUNNING;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">else</span>{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    printf(<span class="stringliteral">&quot;Taking a rest in idle\n&quot;</span>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    priority_dir = DIRN_STOP;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    elev_state = IDLE;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div><div class="ttc" id="controller_8h_html_a5735d97c09a80893f79ce6ce0fda1619"><div class="ttname"><a href="controller_8h.html#a5735d97c09a80893f79ce6ce0fda1619">orders_bellow</a></div><div class="ttdeci">int orders_bellow(elev_motor_direction_t *priority_dir, int current_floor)</div><div class="ttdoc">Checks if there are any orders of interest above current floor. </div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00132">controller.c:132</a></div></div>
<div class="ttc" id="controller_8h_html_ac7927046af7ea1e51c178ede55d39631"><div class="ttname"><a href="controller_8h.html#ac7927046af7ea1e51c178ede55d39631">e_stop</a></div><div class="ttdeci">int e_stop(int *e_stopped, elev_motor_direction_t *elev_dir, elev_motor_direction_t *priority_dir, states_t *elev_state)</div><div class="ttdoc">Checking emergency stop and if an emergency stop has occured it deside if it&amp;#39;s going to open the door...</div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00188">controller.c:188</a></div></div>
<div class="ttc" id="controller_8h_html_af4edcb71807d2f702bc77ea03fbee08e"><div class="ttname"><a href="controller_8h.html#af4edcb71807d2f702bc77ea03fbee08e">update_lamps</a></div><div class="ttdeci">int update_lamps()</div><div class="ttdoc">Controll the lamps of whitch floor the elevator is or last was located in, floorpanel and elevatorepa...</div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00215">controller.c:215</a></div></div>
<div class="ttc" id="timer_8h_html"><div class="ttname"><a href="timer_8h.html">timer.h</a></div><div class="ttdoc">A simple module to controll the timer of the door. </div></div>
<div class="ttc" id="state__machine_8h_html_a05848de25ac2dbec233935058a1d24b4"><div class="ttname"><a href="state__machine_8h.html#a05848de25ac2dbec233935058a1d24b4">init</a></div><div class="ttdeci">int init()</div><div class="ttdoc">Initializes the elevator by placing it at a known floor. </div><div class="ttdef"><b>Definition:</b> <a href="state__machine_8c_source.html#l00005">state_machine.c:5</a></div></div>
<div class="ttc" id="state__machine_8h_html_a58e8be2db2660128e4e6456a9c981fb5"><div class="ttname"><a href="state__machine_8h.html#a58e8be2db2660128e4e6456a9c981fb5">run</a></div><div class="ttdeci">int run()</div><div class="ttdoc">This is the state machine. Just run it from main and watch the magic. </div><div class="ttdef"><b>Definition:</b> <a href="state__machine_8c_source.html#l00017">state_machine.c:17</a></div></div>
<div class="ttc" id="timer_8h_html_a68a43cbe2b22f37171a4eac866c382f3"><div class="ttname"><a href="timer_8h.html#a68a43cbe2b22f37171a4eac866c382f3">time_out</a></div><div class="ttdeci">int time_out(void)</div><div class="ttdoc">Checks if it&amp;#39;s three seconds since the starttime. </div><div class="ttdef"><b>Definition:</b> <a href="timer_8c_source.html#l00007">timer.c:7</a></div></div>
<div class="ttc" id="controller_8h_html"><div class="ttname"><a href="controller_8h.html">controller.h</a></div><div class="ttdoc">This library contains the logic that controls the elevator movements. </div></div>
<div class="ttc" id="controller_8h_html_aeb8f6df3064d502784865b6b8cb8eb6a"><div class="ttname"><a href="controller_8h.html#aeb8f6df3064d502784865b6b8cb8eb6a">order_at_current_floor</a></div><div class="ttdeci">int order_at_current_floor(elev_motor_direction_t elev_dir, int e_stopped, int current_floor, int *dir_switch)</div><div class="ttdoc">Used to check if the order is at the current floor so the elev can open the doors. It is also used to check if the elevator is actually at the floor it thinks it is after an emergency stop and if the elevator switched direction to get back to the floor it thinks it is at. </div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00099">controller.c:99</a></div></div>
<div class="ttc" id="controller_8h_html_aacef2da44622fa8145be41c68a828909"><div class="ttname"><a href="controller_8h.html#aacef2da44622fa8145be41c68a828909">order_at_floor</a></div><div class="ttdeci">int order_at_floor(elev_motor_direction_t *priority_dir, elev_motor_direction_t elev_dir)</div><div class="ttdoc">Checking if there are orders at current floor and if the eleveator should stop. It also checks if the...</div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00066">controller.c:66</a></div></div>
<div class="ttc" id="controller_8h_html_abfa99631cbe31c4ae9bedeee58dae711"><div class="ttname"><a href="controller_8h.html#abfa99631cbe31c4ae9bedeee58dae711">orders_above</a></div><div class="ttdeci">int orders_above(elev_motor_direction_t *priority_dir, int current_floor)</div><div class="ttdoc">Checks if there are any orders of interest above current floor. </div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00160">controller.c:160</a></div></div>
<div class="ttc" id="controller_8h_html_a091e5d1e93a7b6c1569ff194fdbcbacc"><div class="ttname"><a href="controller_8h.html#a091e5d1e93a7b6c1569ff194fdbcbacc">update_orders</a></div><div class="ttdeci">int update_orders()</div><div class="ttdoc">Checking buttons: COMMAND, UP and DOWN and updates the ordes array. </div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00030">controller.c:30</a></div></div>
<div class="ttc" id="controller_8h_html_a1bf77763c29c4980d5f065904b985802"><div class="ttname"><a href="controller_8h.html#a1bf77763c29c4980d5f065904b985802">delete_order_at_floor</a></div><div class="ttdeci">int delete_order_at_floor(int floor)</div><div class="ttdoc">Deletes all orders at a floor. </div><div class="ttdef"><b>Definition:</b> <a href="controller_8c_source.html#l00016">controller.c:16</a></div></div>
<div class="ttc" id="timer_8h_html_aa9854f34aab8315190c2d5945e54b058"><div class="ttname"><a href="timer_8h.html#aa9854f34aab8315190c2d5945e54b058">start_timer</a></div><div class="ttdeci">void start_timer(void)</div><div class="ttdoc">Sets the starttime to the current time. </div><div class="ttdef"><b>Definition:</b> <a href="timer_8c_source.html#l00004">timer.c:4</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
